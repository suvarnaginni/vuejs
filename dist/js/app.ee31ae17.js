(function(e){function t(t){for(var r,i,o=t[0],u=t[1],c=t[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],r=!0,o=1;o<s.length;o++){var u=s[o];0!==a[u]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=s[0]))}return e}var r={},a={app:0},n=[];function i(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=r,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var r=s("85ec"),a=s.n(r);a.a},1:function(e,t){},"1bd4":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container",attrs:{id:"app"}},[s("Home",{attrs:{msg:"Welcome to Your Vue.js App"}}),s("router-view")],1)},n=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[s("div",{staticClass:"header flex-box"},[s("img",{attrs:{alt:"Vue logo",width:"25px",height:"25px",src:""}}),e._l(e.Headers,(function(t){return s("router-link",{key:t.routepath,attrs:{to:t.routepath}},[s("button",[e._v(e._s(t.routename))])])}))],2),s("h1",[e._v(e._s(e.msg))])])},o=[],u=(s("4de4"),s("ac1f"),s("466d"),s("5319"),{name:"Home",props:{msg:String},data:function(){return{Headers:[]}},methods:{},created:function(){var e=this;this.$http.get("http://localhost:3000/headers").then((function(t){console.log(t),console.log(localStorage.UserRole),console.log(window.location.pathname),console.log(window.location.pathname.replace("/","").toLowerCase()),e.Headers=t.data.filter((function(e){return e.role.match(localStorage.UserRole)&&e.page.match(window.location.pathname.replace("/","").toLowerCase())})),e.message=e.Headers.count,e.isSuccess=!0}),(function(e){console.log(e)}))}}),c=u,l=(s("8404"),s("2877")),d=Object(l["a"])(c,i,o,!1,null,"791612e2",null),m=d.exports,f={name:"App",components:{Home:m},data:function(){return{Headers:[]}},mounted:function(){}},p=f,g=(s("034f"),Object(l["a"])(p,a,n,!1,null,null,null)),v=g.exports,h=s("28dd"),_=s("8c4f"),y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",[e._v(e._s(e.msg))]),s("form",[e.statusmessages.length?s("span",{class:[e.isSuccess?"successmessage":"errormessage"]},e._l(e.statusmessages,(function(t,r){return s("span",{key:r},[e._v(" "+e._s(t)+" ")])})),0):e._e(),s("table",[s("tr",[s("td",[e._v("Username : ")]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.user.username,expression:"user.username",modifiers:{lazy:!0}}],attrs:{type:"text",required:""},domProps:{value:e.user.username},on:{change:function(t){return e.$set(e.user,"username",t.target.value)}}})])]),s("tr",[s("td",[e._v("Password:")]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.user.password,expression:"user.password",modifiers:{lazy:!0}}],ref:"password",attrs:{type:"password",required:""},domProps:{value:e.user.password},on:{change:function(t){return e.$set(e.user,"password",t.target.value)}}})])]),s("tr",[s("td",[e._v("Confirm Password:")]),s("td",[s("input",{ref:"confirmpwd",attrs:{type:"password",required:""}})])]),s("tr",[s("td",[e._v("Email:")]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.user.email,expression:"user.email",modifiers:{lazy:!0}}],attrs:{type:"email",required:""},domProps:{value:e.user.email},on:{change:function(t){return e.$set(e.user,"email",t.target.value)}}})])]),s("tr",[s("td",[s("button",{on:{click:function(t){return t.preventDefault(),e.registration()}}},[e._v("Register")])])])])])])},w=[],b=(s("498a"),{name:"Register",data:function(){return{msg:"Registration!!!!",user:{username:"",password:"",email:"",role:"USER"},statusmessages:[],isSuccess:!0}},methods:{registration:function(){var e=this;this.statusmessages=[];var t=this.validateinputs();t?this.$http.post("http://localhost:3000/users",this.user).then((function(t){console.log(t),e.statusmessages.push("Registration Successfull!"),e.isSuccess=!0}),(function(e){console.log(e)})):this.isSuccess=!1},validateinputs:function(){return""==this.user.username.trim()||""==this.user.email.trim()||""==this.user.password.trim()?(this.statusmessages.push("Please provide all mandatory fields."),this.isSuccess=!1,!1):this.$refs.password.value.trim()!=this.$refs.confirmpwd.value.trim()?(this.statusmessages.push("Password and Confirm Password Does'nt match"),this.isSuccess=!1,!1):(this.isSuccess=!0,!0)}}}),S=b,x=Object(l["a"])(S,y,w,!1,null,null,null),$=x.exports,O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",[e._v(e._s(e.msg))]),s("div",[e.statusmessages.length>0?s("span",{class:[e.isSuccess?"successmessage":"errormessage"]},e._l(e.statusmessages,(function(t,r){return s("span",{key:r},[e._v(" "+e._s(t)+" ")])})),0):e._e()]),s("form",[s("table",[s("tr",[s("td",[e._v("Date :")]),s("td",[e._v(e._s(e.giftcard.ordereddate))])]),s("tr",[s("td",[e._v("Recipient First Name :")]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.giftcard.recipient_fname,expression:"giftcard.recipient_fname",modifiers:{lazy:!0}}],attrs:{type:"text",required:""},domProps:{value:e.giftcard.recipient_fname},on:{change:function(t){return e.$set(e.giftcard,"recipient_fname",t.target.value)}}})])]),s("tr",[s("td",[e._v("Recipient Last Name :")]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.giftcard.recipient_lname,expression:"giftcard.recipient_lname",modifiers:{lazy:!0}}],attrs:{type:"text",required:""},domProps:{value:e.giftcard.recipient_lname},on:{change:function(t){return e.$set(e.giftcard,"recipient_lname",t.target.value)}}})])]),s("tr",[s("td",[e._v("Gift Card Value :")]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.giftcard.giftcardvalue,expression:"giftcard.giftcardvalue"}],attrs:{type:"number",required:""},domProps:{value:e.giftcard.giftcardvalue},on:{input:[function(t){t.target.composing||e.$set(e.giftcard,"giftcardvalue",t.target.value)},e.computeCommission]}})])]),s("tr",[s("td",[e._v("Amount Payable (5% commission inclusive) :")]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.giftcard.percent,expression:"giftcard.percent",modifiers:{lazy:!0}}],attrs:{type:"text"},domProps:{value:e.giftcard.percent},on:{change:function(t){return e.$set(e.giftcard,"percent",t.target.value)}}})])]),s("tr",[s("td",[e._v("Recipient Mobile Number :")]),s("td",[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.giftcard.mobilenumber,expression:"giftcard.mobilenumber",modifiers:{lazy:!0}}],attrs:{type:"number",min:"10",required:""},domProps:{value:e.giftcard.mobilenumber},on:{change:function(t){return e.$set(e.giftcard,"mobilenumber",t.target.value)}}})])]),s("tr",[s("td",[e._v("Address :")]),s("td",[s("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.giftcard.address,expression:"giftcard.address",modifiers:{lazy:!0}}],attrs:{required:""},domProps:{value:e.giftcard.address},on:{change:function(t){return e.$set(e.giftcard,"address",t.target.value)}}})])]),s("tr",[s("td",[s("button",{on:{click:function(t){return t.preventDefault(),e.placeorder()}}},[e._v("Place Order")])])])])])])},P=[],C=(s("fb6a"),s("bf19"),{name:"GiftCardOrder",data:function(){return{msg:"Gift Card Order!!!!",giftcard:{recipient_fname:"",recipient_lname:"",giftcardvalue:0,percent:5,mobilenumber:"",address:"",deliveryStatus:"UnDelivered",ordereddate:"",userid:localStorage.UserId},statusmessages:[],isSuccess:!0}},methods:{placeorder:function(){var e=this;this.statusmessages=[];var t=this.validateinputs();t?this.$http.post("http://localhost:3000/giftcards",this.giftcard).then((function(t){console.log(t),e.statusmessages.push("Order Placed Successfull!"),e.isSuccess=!0}),(function(e){console.log(e)})):this.isSuccess=!1},validateinputs:function(){return""!=this.giftcard.recipient_fname.trim()&&""!=this.giftcard.recipient_lname.trim()&&""!=this.giftcard.mobilenumber.trim()&&""!=this.giftcard.address.trim()||(this.statusmessages.push("Please provide all mandatory fields."),this.isSuccess=!1,!1)},computeCommission:function(){this.giftcard.percent=.05*this.giftcard.giftcardvalue}},created:function(){var e=new Date,t=e.toJSON().slice(0,10).replace(/-/g,"/");this.giftcard.ordereddate=t}}),k=C,z=Object(l["a"])(k,O,P,!1,null,"3d4bdfd4",null),N=z.exports,R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",[e._v(e._s(e.msg))]),s("div",[e.statusmessages.length?s("span",{class:[e.isSuccess?"successmessage":"errormessage"]},e._l(e.statusmessages,(function(t,r){return s("span",{key:r},[e._v(" "+e._s(t)+" ")])})),0):e._e()]),s("form",[s("div",[s("table",[e._m(0),s("tbody",e._l(e.filterGiftCards,(function(t,r){return s("tr",{key:r},[s("td",[e._v(e._s(t.id))]),s("td",[e._v(" "+e._s(t.recipient_lname)+" "+e._s(t.recipient_fname))]),s("td",[e._v(e._s(t.OrderedDate))]),s("td",[e._v(e._s(t.giftcardvalue))]),s("td",[e._v(e._s(t.percent))]),s("td",[e._v(e._s(t.deliveryStatus))]),s("td",[e.isAdmin?s("button",{on:{click:function(s){return s.preventDefault(),e.markDelivered(t)}}},[e._v("Mark Delivered")]):e._e()])])})),0)])])])])},j=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("td",[e._v("OrderId")]),s("td",[e._v("Recipient Name")]),s("td",[e._v("Ordered Date")]),s("td",[e._v("Gift Card Value")]),s("td",[e._v("Commission (5%) ")]),s("td",[e._v("Delivery Status")])])}],D={name:"ViewGiftCard",components:{},data:function(){return{msg:"Gift Card History!!!!",giftcards:[],statusmessages:[],isSuccess:!0,isAdmin:!1}},methods:{markDelivered:function(e){var t=this;console.log("paramgiftcard"+e);var s=this.giftcards.filter((function(t){return t.id=e.id}));console.log("ogiftcard"+s),console.log("JSON Value"+JSON.parse(s)),this.$http.put("http://localhost:3000/giftcards",JSON.stringify(s)).then((function(s){console.log("Success : "+s),t.message=e.recipient_fname+" is marked Delivered!.",t.isSuccess=!0,console.log(s)}),(function(e){t.isSuccess=!1,t.message=e.message,console.log(e)}))}},created:function(){var e=this;this.$http.get("http://localhost:3000/giftcards").then((function(t){console.log(t),e.giftcards=t.data,e.message=e.giftcards.count,e.isSuccess=!0,"admin"===localStorage.UserRole?e.isAdmin=!0:e.isAdmin=!1}),(function(t){e.message=t.message,console.log(t)}))},computed:{filterGiftCards:function(){var e=this;return this.giftcards.filter((function(t){return e.isAdmin?t.deliveryStatus.match("UnDelivered"):t}))}}},U=D,E=Object(l["a"])(U,R,j,!1,null,null,null),A=E.exports,q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",[e._v("Login")]),e.statusmessages.length?s("span",{class:[e.isSuccess?"successmessage":"errormessage"]},e._l(e.statusmessages,(function(t,r){return s("span",{key:r},[e._v(" "+e._s(t)+" ")])})),0):e._e(),s("br"),e._v(" Username : "),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.user.username,expression:"user.username",modifiers:{lazy:!0}}],ref:"username",attrs:{type:"text",required:""},domProps:{value:e.user.username},on:{change:function(t){return e.$set(e.user,"username",t.target.value)}}}),s("br"),e._v(" Password : "),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.user.password,expression:"user.password",modifiers:{lazy:!0}}],ref:"password",attrs:{type:"text",required:""},domProps:{value:e.user.password},on:{change:function(t){return e.$set(e.user,"password",t.target.value)}}}),s("br"),s("button",{on:{click:function(t){return t.preventDefault(),e.validateLogin()}}},[e._v("Login")])])},G=[],H={name:"Login",data:function(){return{msg:"Login!!!!",user:{username:"",password:""},statusmessages:[],isSuccess:!0}},methods:{validateLogin:function(){var e=this;return this.statusmessages=[],localStorage.clear(),""==this.user.username.trim()?(this.$refs.username.focus(),void this.statusmessages.push("Enter Username")):""==this.user.password.trim()?(this.$refs.password.focus(),void this.statusmessages.push("Enter password")):(console.log("in validatelogin else block"),this.$http.get("http://localhost:3000/users").then((function(t){console.log(t.data),t.data.filter((function(t){t.username.match(e.user.username)&&t.password.match(e.user.password)&&(localStorage.UserRole=t.role,localStorage.UserId=t.id,e.$router.push({path:"/viewgiftcard"}))}))}),(function(e){return console.log(e),!1})),this.statusmessages.push("Invalid Credentails"),void this.$refs.username.focus())}}},L=H,M=Object(l["a"])(L,q,G,!1,null,null,null),J=M.exports,V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",[e._v(e._s(e.msg))]),s("div",[e.statusmessages.length?s("span",{class:[e.isSuccess?"successmessage":"errormessage"]},e._l(e.statusmessages,(function(t,r){return s("span",{key:r},[e._v(" "+e._s(t)+" ")])})),0):e._e()]),s("form",[s("div",[s("table",[e._m(0),s("tbody",[e._l(e.giftcards,(function(t,r){return s("tr",{key:r},[s("td",[e._v(e._s(t.id))]),s("td",[e._v(" "+e._s(t.userid)+" ")]),s("td",[e._v(e._s(t.giftcardvalue))]),s("td",[e._v(e._s(t.percent))])])})),s("tr",[s("td",{attrs:{colspan:"4"}},[e._v("Total Commission : "+e._s(this.totalCommission))])])],2)])])])])},I=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("td",[e._v("GiftCard Id")]),s("td",[e._v("User")]),s("td",[e._v("Amount")]),s("td",[e._v("Commission")])])}],T=(s("4160"),s("159b"),{name:"MonthlyReport",data:function(){return{msg:"Monthly Report!!!!",giftcards:[],statusmessages:[],isSuccess:!0,isAdmin:!1,totalCommission:0}},methods:{},created:function(){var e=this;this.$http.get("http://localhost:3000/giftcards").then((function(t){console.log(t),e.giftcards=t.data,e.message=e.giftcards.count,e.giftcards.forEach((function(t){e.totalCommission+=t.percent})),e.isSuccess=!0,"admin"===localStorage.UserRole?e.isAdmin=!0:e.isAdmin=!1}),(function(t){e.message=t.message,console.log(t)}))},computed:{}}),F=T,W=Object(l["a"])(F,V,I,!1,null,null,null),Y=W.exports;r["a"].config.productionTip=!1,r["a"].use(_["a"]),r["a"].use(h["a"]),window.localStorage.clear(),null!=localStorage&&null!=localStorage.UserRole||(localStorage.UserRole="none");var B=[{path:"/",component:J},{path:"/register",component:$},{path:"/giftcardorder",component:N},{path:"/viewgiftcard",component:A},{path:"/monthlyreport",component:Y}],K=new _["a"]({routes:B,mode:"history"});new r["a"]({render:function(e){return e(v)},router:K}).$mount("#app")},8404:function(e,t,s){"use strict";var r=s("1bd4"),a=s.n(r);a.a},"85ec":function(e,t,s){}});
//# sourceMappingURL=app.ee31ae17.js.map